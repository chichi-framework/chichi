{"version":3,"sources":["accordion.js","alert.js","button.js","dropdown.js","modal.js","popover.js","slider.js","tab.js","toast.js","tooltip.js"],"names":["TRANSITION_END","emulateTransitionEnd","getSelectorFromElement","getElementFromSelector","getTransitionDurationFromElement","isElement","reflow","Data","EventHandler","Manipulator","SelectorEngine","ACCORDION_NAME","ACCORDION_VERSION","ACCORDION_DATA_KEY","ACCORDION_EVENT_KEY","ACCORDION_DATA_API_KEY","AccordionDefaults","toggle","parent","ACCORDION_EVENT_SHOW","ACCORDION_EVENT_SHOWN","ACCORDION_EVENT_HIDE","ACCORDION_EVENT_HIDDEN","ACCORDION_EVENT_CLICK_DATA_API","ACCORDION_CLASS_NAME_SHOW","ACCORDION_CLASS_NAME_COLLAPSE","ACCORDION_CLASS_NAME_COLLAPSING","ACCORDION_CLASS_NAME_COLLAPSED","ACCORDION_WIDTH","ACCORDION_HEIGHT","ACCORDION_SELECTOR_ACTIVES","ACCORDION_SELECTOR_DATA_TOGGLE","Accordion","constructor","element","config","_isTransitioning","_element","_config","_getConfig","_triggerArray","find","id","toggleList","i","len","length","elem","selector","filterElement","filter","foundElem","_selector","push","_parent","_getParent","_addAriaAndAccordiondClass","setData","VERSION","Default","classList","contains","hide","show","actives","activesData","getAttribute","container","findOne","tempActiveData","getData","startEvent","trigger","defaultPrevented","forEach","elemActive","collapseInterface","dimension","_getDimension","remove","add","style","setAttribute","setTransitioning","complete","capitalizedDimension","toUpperCase","slice","scrollSize","transitionDuration","one","getBoundingClientRect","triggerArrayLength","isTransitioning","dispose","removeData","Boolean","hasWidth","jquery","selected","triggerArray","isOpen","data","getDataAttributes","test","TypeError","getInstance","on","document","event","target","tagName","preventDefault","triggerData","selectorElements","ALERT_NAME","ALERT_VERSION","ALERT_DATA_KEY","ALERT_EVENT_KEY","ALERT_DATA_API_KEY","ALERT_SELECTOR_DISMISS","ALERT_EVENT_CLOSE","ALERT_EVENT_CLOSED","ALERT_EVENT_CLICK_DATA_API","CLASSNAME_ALERT","ALERT_CLASSNAME_FADE","ALERT_CLASSNAME_SHOW","Alert","close","rootElement","_getRootElement","customEvent","_triggerCloseEvent","_removeElement","closest","ALERT_CLASSNAME_ALERT","_destroyElement","parentNode","removeChild","jQueryInterface","each","handleDismiss","alertInstance","BUTTON_NAME","BUTTON_VERSION","BUTTON_DATA_KEY","BUTTON_EVENT_KEY","BUTTON_DATA_API_KEY","BUTTON_CLASS_NAME_ACTIVE","BUTTON_SELECTOR_DATA_TOGGLE","BUTTON_EVENT_CLICK_DATA_API","Button","button","isVisible","noop","Popper","DROPDOWN_NAME","DROPDOWN_VERSION","DROPDOWN_DATA_KEY","DROPDOWN_EVENT_KEY","DROPDOWN_DATA_API_KEY","DROPDOWN_ESCAPE_KEY","DROPDOWN_SPACE_KEY","DROPDOWN_TAB_KEY","DROPDOWN_ARROW_UP_KEY","DROPDOWN_ARROW_DOWN_KEY","DROPDOWN_RIGHT_MOUSE_BUTTON","DROPDOWN_REGEXP_KEYDOWN","RegExp","DROPDOWN_EVENT_HIDE","DROPDOWN_EVENT_HIDDEN","DROPDOWN_EVENT_SHOW","DROPDOWN_EVENT_SHOWN","DROPDOWN_EVENT_CLICK","DROPDOWN_EVENT_CLICK_DATA_API","DATA_API_KEY","DROPDOWN_EVENT_KEYDOWN_DATA_API","DROPDOWN_EVENT_KEYUP_DATA_API","DROPDOWN_CLASS_NAME_DISABLED","DROPDOWN_CLASS_NAME_ACTIVE","DROPDOWN_CLASS_NAME_DROPUP","DROPDOWN_CLASS_NAME_DROPRIGHT","DROPDOWN_CLASS_NAME_DROPLEFT","DROPDOWN_CLASS_NAME_MENURIGHT","DROPDOWN_CLASS_NAME_NAVBAR","DROPDOWN_CLASS_NAME_POSITION_STATIC","DROPDOWN_SELECTOR_DATA_TOGGLE","DROPDOWN_SELECTOR_FORM_CHILD","DROPDOWN_SELECTOR_MENU","DROPDOWN_SELECTOR_NAVBAR_NAV","DROPDOWN_SELECTOR_VISIBLE_ITEMS","DROPDOWN_PLACEMENT_TOP","DROPDOWN_PLACEMENT_TOPEND","DROPDOWN_PLACEMENT_BOTTOM","DROPDOWN_PLACEMENT_BOTTOMEND","DROPDOWN_PLACEMENT_RIGHT","DROPDOWN_PLACEMENT_LEFT","DropdownDefaults","offset","flip","boundary","reference","display","popperConfig","Dropdown","_popper","_menu","_getMenuElement","_inNavbar","_detectNavbar","_addEventListeners","disabled","isActive","clearMenus","getParentFromElement","relatedTarget","showEvent","DROPDOWN_DROPDOWN_EVENT_SHOW","referenceElement","_getPopperConfig","documentElement","concat","body","children","focus","toggleClass","hideEvent","destroy","off","update","scheduleUpdate","stopPropagation","next","_getPlacement","parentDropdown","placement","_getOffset","fn","offsets","modifiers","enabled","preventOverflow","boundariesElement","applyStyle","dropdownInterface","type","key","toggles","context","clickEvent","dropdownMenu","dataApiKeydownHandler","matches","SDROPDOWN_ELECTOR_DATA_TOGGLE","prev","items","index","indexOf","e","triggerTransitionEnd","SLIDER_NAME","SLIDER_VERSION","SLIDER_DATA_KEY","SLIDER_EVENT_KEY","SLIDER_DATA_API_KEY","SLIDER_ARROW_LEFT_KEY","SLIDER_ARROW_RIGHT_KEY","SLIDER_TOUCHEVENT_COMPAT_WAIT","SLIDER_SWIPE_THRESHOLD","SliderDefaults","interval","keyboard","slide","pause","wrap","touch","SLIDER_DIRECTION_NEXT","SLIDER_DIRECTION_PREV","SLIDER_DIRECTION_LEFT","SLIDER_DIRECTION_RIGHT","SLIDER_EVENT_SLIDE","SLIDER_EVENT_SLID","SLIDER_EVENT_KEYDOWN","SLIDER_EVENT_MOUSEENTER","SLIDER_EVENT_MOUSELEAVE","SLIDER_EVENT_TOUCHSTART","SLIDER_EVENT_TOUCHMOVE","SLIDER_EVENT_TOUCHEND","SLIDER_EVENT_POINTERDOWN","SLIDER_EVENT_POINTERUP","SLIDER_EVENT_DRAG_START","SLIDER_EVENT_LOAD_DATA_API","SLIDER_EVENT_CLICK_DATA_API","SLIDER_CLASS_NAME_SLIDER","SLIDER_CLASS_NAME_ACTIVE","SLIDER_CLASS_NAME_SLIDE","SLIDER_CLASS_NAME_RIGHT","SLIDER_CLASS_NAME_LEFT","SLIDER_CLASS_NAME_NEXT","SLIDER_CLASS_NAME_PREV","SLIDER_CLASS_NAME_POINTER_EVENT","SLIDER_SELECTOR_ACTIVE","SLIDER_SELECTOR_ACTIVE_ITEM","SLIDER_SELECTOR_ITEM","SLIDER_SELECTOR_ITEM_IMG","SLIDER_SELECTOR_NEXT_PREV","SLIDER_SELECTOR_INDICATORS","SLIDER_SELECTOR_DATA_SLIDE","SLIDER_SELECTOR_DATA_RIDE","PointerType","TOUCH","PEN","Slider","_items","_interval","_activeElement","_isPaused","_isSliding","touchTimeout","touchStartX","touchDeltaX","_indicatorsElement","_touchSupported","navigator","maxTouchPoints","_pointerEvent","window","PointerEvent","_slide","nextWhenVisible","hidden","cycle","clearInterval","setInterval","visibilityState","bind","to","activeIndex","_getItemIndex","direction","typeCheckConfig","NAME","DefaultType","_handleSwipe","absDeltax","Math","abs","SWIPE_THRESHOLD","_keydown","_addTouchEventListeners","start","pointerType","clientX","touches","move","end","clearTimeout","setTimeout","TOUCHEVENT_COMPAT_WAIT","itemImg","ARROW_LEFT_KEY","ARROW_RIGHT_KEY","_getItemByDirection","activeElement","isNextDirection","isPrevDirection","lastItemIndex","isGoingToWrap","delta","itemIndex","_triggerSlideEvent","eventDirectionName","targetIndex","fromIndex","SLIDER_SLIDER_EVENT_SLIDE","from","_setActiveIndicatorElement","indicators","nextIndicator","activeElementIndex","nextElement","nextElementIndex","isCycling","directionalClassName","orderClassName","slideEvent","nextElementInterval","parseInt","defaultInterval","sliderInterface","action","ride","dataApiClickHandler","slideIndex","sliders"],"mappings":"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","file":"chichi.js","sourcesContent":["/**\n * --------------------------------------------------------------------------\n * ChiChi (v0.1.0-alpha2): accordion.ts\n * Licensed under MIT\n * --------------------------------------------------------------------------\n */\n\nimport { TRANSITION_END, emulateTransitionEnd, getSelectorFromElement, getElementFromSelector, getTransitionDurationFromElement, isElement, reflow } from './util/index'\nimport Data from './dom/data'\nimport EventHandler from './dom/event-handler'\nimport Manipulator from './dom/manipulator'\nimport SelectorEngine from './dom/selector-engine'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\n const ACCORDION_NAME = 'accordion'\n const ACCORDION_VERSION = '0.1.0-alpha1'\n\n const ACCORDION_DATA_KEY = 'chichi.accordion'\n const ACCORDION_EVENT_KEY = `.${ACCORDION_DATA_KEY}`\n const ACCORDION_DATA_API_KEY = '.data-api'\n\n const AccordionDefaults = {\n   toggle: true,\n   parent: ''\n }\n\n const ACCORDION_EVENT_SHOW = `show${ACCORDION_EVENT_KEY}`\n const ACCORDION_EVENT_SHOWN = `shown${ACCORDION_EVENT_KEY}`\n const ACCORDION_EVENT_HIDE = `hide${ACCORDION_EVENT_KEY}`\n const ACCORDION_EVENT_HIDDEN = `hidden${ACCORDION_EVENT_KEY}`\n const ACCORDION_EVENT_CLICK_DATA_API = `click${ACCORDION_EVENT_KEY}${ACCORDION_DATA_API_KEY}`\n\n const ACCORDION_CLASS_NAME_SHOW = 'is-active'\n const ACCORDION_CLASS_NAME_COLLAPSE = 'accordion'\n const ACCORDION_CLASS_NAME_COLLAPSING = 'is-collapsing'\n const ACCORDION_CLASS_NAME_COLLAPSED = 'is-collapsed'\n\n const ACCORDION_WIDTH = 'width'\n const ACCORDION_HEIGHT = 'height'\n\n const ACCORDION_SELECTOR_ACTIVES = '.is-active, .is-collapsing'\n const ACCORDION_SELECTOR_DATA_TOGGLE = '[data-toggle=\"accordion\"]'\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\n class Accordion {\n   constructor(element, config) {\n     this._isTransitioning = false\n     this._element = element\n     this._config = this._getConfig(config)\n     this._triggerArray = SelectorEngine.find(\n       `${ACCORDION_SELECTOR_DATA_TOGGLE}[href=\"#${element.id}\"],` +\n       `${ACCORDION_SELECTOR_DATA_TOGGLE}[data-target=\"#${element.id}\"]`\n     )\n\n     const toggleList = SelectorEngine.find(ACCORDION_SELECTOR_DATA_TOGGLE)\n\n     for (let i = 0, len = toggleList.length; i < len; i++) {\n       const elem = toggleList[i]\n       const selector = getSelectorFromElement(elem)\n       const filterElement = SelectorEngine.find(selector)\n         .filter(foundElem => foundElem === element)\n\n       if (selector !== null && filterElement.length) {\n         this._selector = selector\n         this._triggerArray.push(elem)\n       }\n     }\n\n     this._parent = this._config.parent ? this._getParent() : null\n\n     if (!this._config.parent) {\n       this._addAriaAndAccordiondClass(this._element, this._triggerArray)\n     }\n\n     if (this._config.toggle) {\n       this.toggle()\n     }\n\n     Data.setData(element, ACCORDION_DATA_KEY, this)\n   }\n\n   // Getters\n\n   static get VERSION() {\n     return VERSION\n   }\n\n   static get Default() {\n     return AccordionDefaults\n   }\n\n   // Public\n\n  toggle() {\n     if (this._element.classList.contains(ACCORDION_CLASS_NAME_SHOW)) {\n       this.hide()\n     } else {\n       this.show()\n     }\n   }\n\n  show() {\n     if (this._isTransitioning ||\n       this._element.classList.contains(ACCORDION_CLASS_NAME_SHOW)) {\n       return\n     }\n\n     let actives\n     let activesData\n\n     if (this._parent) {\n       actives = SelectorEngine.find(ACCORDION_SELECTOR_ACTIVES, this._parent)\n         .filter(elem => {\n           if (typeof this._config.parent === 'string') {\n             return elem.getAttribute('data-parent') === this._config.parent\n           }\n\n           return elem.classList.contains(ACCORDION_CLASS_NAME_COLLAPSE)\n         })\n\n       if (actives.length === 0) {\n         actives = null\n       }\n     }\n\n     const container = SelectorEngine.findOne(this._selector)\n     if (actives) {\n       const tempActiveData = actives.filter(elem => container !== elem)\n       activesData = tempActiveData[0] ? Data.getData(tempActiveData[0], ACCORDION_DATA_KEY) : null\n\n       if (activesData && activesData._isTransitioning) {\n         return\n       }\n     }\n\n     const startEvent = EventHandler.trigger(this._element, ACCORDION_EVENT_SHOW)\n     if (startEvent.defaultPrevented) {\n       return\n     }\n\n     if (actives) {\n       actives.forEach(elemActive => {\n         if (container !== elemActive) {\n           Accordion.collapseInterface(elemActive, 'hide')\n         }\n\n         if (!activesData) {\n           Data.setData(elemActive, ACCORDION_DATA_KEY, null)\n         }\n       })\n     }\n\n     const dimension = this._getDimension()\n\n     this._element.classList.remove(ACCORDION_CLASS_NAME_COLLAPSE)\n     this._element.classList.add(ACCORDION_CLASS_NAME_COLLAPSING)\n\n     this._element.style[dimension] = 0\n\n     if (this._triggerArray.length) {\n       this._triggerArray.forEach(element => {\n         element.classList.remove(ACCORDION_CLASS_NAME_COLLAPSED)\n         element.setAttribute('aria-expanded', true)\n       })\n     }\n\n     this.setTransitioning(true)\n\n     const complete = () => {\n       this._element.classList.remove(ACCORDION_CLASS_NAME_COLLAPSING)\n       this._element.classList.add(ACCORDION_CLASS_NAME_COLLAPSE, ACCORDION_CLASS_NAME_SHOW)\n\n       this._element.style[dimension] = ''\n\n       this.setTransitioning(false)\n\n       EventHandler.trigger(this._element, ACCORDION_EVENT_SHOWN)\n     }\n\n     const capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1)\n     const scrollSize = `scroll${capitalizedDimension}`\n     const transitionDuration = getTransitionDurationFromElement(this._element)\n\n     EventHandler.one(this._element, TRANSITION_END, complete)\n\n     emulateTransitionEnd(this._element, transitionDuration)\n     this._element.style[dimension] = `${this._element[scrollSize]}px`\n   }\n\n  hide() {\n     if (this._isTransitioning ||\n       !this._element.classList.contains(ACCORDION_CLASS_NAME_SHOW)) {\n       return\n     }\n\n     const startEvent = EventHandler.trigger(this._element, ACCORDION_EVENT_HIDE)\n     if (startEvent.defaultPrevented) {\n       return\n     }\n\n     const dimension = this._getDimension()\n\n     this._element.style[dimension] = `${this._element.getBoundingClientRect()[dimension]}px`\n\n     reflow(this._element)\n\n     this._element.classList.add(ACCORDION_CLASS_NAME_COLLAPSING)\n     this._element.classList.remove(ACCORDION_CLASS_NAME_COLLAPSE, ACCORDION_CLASS_NAME_SHOW)\n\n     const triggerArrayLength = this._triggerArray.length\n     if (triggerArrayLength > 0) {\n       for (let i = 0; i < triggerArrayLength; i++) {\n         const trigger = this._triggerArray[i]\n         const elem = getElementFromSelector(trigger)\n\n         if (elem && !elem.classList.contains(ACCORDION_CLASS_NAME_SHOW)) {\n           trigger.classList.add(ACCORDION_CLASS_NAME_COLLAPSED)\n           trigger.setAttribute('aria-expanded', false)\n         }\n       }\n     }\n\n     this.setTransitioning(true)\n\n     const complete = () => {\n       this.setTransitioning(false)\n       this._element.classList.remove(ACCORDION_CLASS_NAME_COLLAPSING)\n       this._element.classList.add(ACCORDION_CLASS_NAME_COLLAPSE)\n       EventHandler.trigger(this._element, ACCORDION_EVENT_HIDDEN)\n     }\n\n     this._element.style[dimension] = ''\n     const transitionDuration = getTransitionDurationFromElement(this._element)\n\n     EventHandler.one(this._element, TRANSITION_END, complete)\n     emulateTransitionEnd(this._element, transitionDuration)\n   }\n\n  setTransitioning(isTransitioning) {\n     this._isTransitioning = isTransitioning\n   }\n\n  dispose() {\n     Data.removeData(this._element, ACCORDION_DATA_KEY)\n\n     this._config = null\n     this._parent = null\n     this._element = null\n     this._triggerArray = null\n     this._isTransitioning = null\n   }\n\n   // Private\n\n  _getConfig(config) {\n     config = {\n       ...AccordionDefaults,\n       ...config\n     }\n     config.toggle = Boolean(config.toggle) // Coerce string values\n     return config\n   }\n\n  _getDimension() {\n     const hasWidth = this._element.classList.contains(ACCORDION_WIDTH)\n     return hasWidth ? ACCORDION_WIDTH : ACCORDION_HEIGHT\n   }\n\n  _getParent() {\n     let { parent } = this._config\n\n     if (isElement(parent)) {\n       // it's a jQuery object\n       if (typeof parent.jquery !== 'undefined' || typeof parent[0] !== 'undefined') {\n         parent = parent[0]\n       }\n     } else {\n       parent = SelectorEngine.findOne(parent)\n     }\n\n     const selector = `${ACCORDION_SELECTOR_DATA_TOGGLE}[data-parent=\"${parent}\"]`\n\n     SelectorEngine.find(selector, parent)\n       .forEach(element => {\n         const selected = getElementFromSelector(element)\n\n         this._addAriaAndAccordiondClass(\n           selected,\n           [element]\n         )\n       })\n\n     return parent\n   }\n\n  _addAriaAndAccordiondClass(element, triggerArray) {\n     if (element) {\n       const isOpen = element.classList.contains(ACCORDION_CLASS_NAME_SHOW)\n\n       if (triggerArray.length) {\n         triggerArray.forEach(elem => {\n           if (isOpen) {\n             elem.classList.remove(ACCORDION_CLASS_NAME_COLLAPSED)\n           } else {\n             elem.classList.add(ACCORDION_CLASS_NAME_COLLAPSED)\n           }\n\n           elem.setAttribute('aria-expanded', isOpen)\n         })\n       }\n     }\n   }\n\n   // Static\n\n   static collapseInterface(element, config) {\n     let data = Data.getData(element, ACCORDION_DATA_KEY)\n     const _config = {\n       ...AccordionDefaults,\n       ...Manipulator.getDataAttributes(element),\n       ...typeof config === 'object' && config ? config : {}\n     }\n\n     if (!data && _config.toggle && typeof config === 'string' && /show|hide/.test(config)) {\n       _config.toggle = false\n     }\n\n     if (!data) {\n       data = new Accordion(element, _config)\n     }\n\n     if (typeof config === 'string') {\n       if (typeof data[config] === 'undefined') {\n         throw new TypeError(`No method named \"${config}\"`)\n       }\n\n       data[config]()\n     }\n   }\n\n   static getInstance(element) {\n     return Data.getData(element, ACCORDION_DATA_KEY)\n   }\n }\n\n/**\n * ------------------------------------------------------------------------\n * Data api implementation\n * ------------------------------------------------------------------------\n */\n\n EventHandler.on(document, ACCORDION_EVENT_CLICK_DATA_API, ACCORDION_SELECTOR_DATA_TOGGLE, function (event) {\n   // preventDefault only for <a> elements (which change the URL) not inside the collapsible element\n   if (event.target.tagName === 'A') {\n     event.preventDefault()\n   }\n\n   const triggerData = Manipulator.getDataAttributes(this)\n   const selector = getSelectorFromElement(this)\n   const selectorElements = SelectorEngine.find(selector)\n\n   selectorElements.forEach(element => {\n     const data = Data.getData(element, ACCORDION_DATA_KEY)\n     let config\n     if (data) {\n       // update parent attribute\n       if (data._parent === null && typeof triggerData.parent === 'string') {\n         data._config.parent = triggerData.parent\n         data._parent = data._getParent()\n       }\n\n       config = 'toggle'\n     } else {\n       config = triggerData\n     }\n\n     Accordion.collapseInterface(element, config)\n   })\n })\n\n/**\n * ------------------------------------------------------------------------\n * Exports\n * ------------------------------------------------------------------------\n */\n\nexport default Accordion\n","/**\n * --------------------------------------------------------------------------\n * ChiChi (v0.1.0-alpha1): alert.ts\n * Licensed under MIT\n * --------------------------------------------------------------------------\n */\n\nimport { TRANSITION_END, emulateTransitionEnd, getElementFromSelector, getTransitionDurationFromElement } from './util/index'\nimport Data from './dom/data'\nimport EventHandler from './dom/event-handler'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst ALERT_NAME = 'alert'\nconst ALERT_VERSION = '0.1.0-alpha1'\nconst ALERT_DATA_KEY = 'chichi.alert'\nconst ALERT_EVENT_KEY = `.${ALERT_DATA_KEY}`\nconst ALERT_DATA_API_KEY = '.data-api'\n\nconst ALERT_SELECTOR_DISMISS = '[data-dismiss=\"alert\"]'\n\nconst ALERT_EVENT_CLOSE = `close${ALERT_EVENT_KEY}`\nconst ALERT_EVENT_CLOSED = `closed${ALERT_EVENT_KEY}`\nconst ALERT_EVENT_CLICK_DATA_API = `click${ALERT_EVENT_KEY}${ALERT_DATA_API_KEY}`\n\nconst CLASSNAME_ALERT = 'alert'\nconst ALERT_CLASSNAME_FADE = 'fade'\nconst ALERT_CLASSNAME_SHOW = 'show'\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Alert {\n  constructor(element) {\n    this._element = element\n\n    if (this._element) {\n      Data.setData(element, ALERT_DATA_KEY, this)\n    }\n  }\n\n  // Getters\n\n  static get VERSION() {\n    return ALERT_VERSION\n  }\n\n  // Public\n\n  close(element) {\n    let rootElement = this._element\n    if (element) {\n      rootElement = this._getRootElement(element)\n    }\n\n    const customEvent = this._triggerCloseEvent(rootElement)\n\n    if (customEvent === null || customEvent.defaultPrevented) {\n      return\n    }\n\n    this._removeElement(rootElement)\n  }\n\n  dispose() {\n    Data.removeData(this._element, ALERT_DATA_KEY)\n    this._element = null\n  }\n\n  // Private\n\n  _getRootElement(element) {\n    return getElementFromSelector(element) || element.closest(`.${ALERT_CLASSNAME_ALERT}`)\n  }\n\n  _triggerCloseEvent(element) {\n    return EventHandler.trigger(element, ALERT_EVENT_CLOSE)\n  }\n\n  _removeElement(element) {\n    element.classList.remove(ALERT_CLASSNAME_SHOW)\n\n    if (!element.classList.contains(ALERT_CLASSNAME_FADE)) {\n      this._destroyElement(element)\n      return\n    }\n\n    const transitionDuration = getTransitionDurationFromElement(element)\n\n    EventHandler\n      .one(element, TRANSITION_END, () => this._destroyElement(element))\n    emulateTransitionEnd(element, transitionDuration)\n  }\n\n  _destroyElement(element) {\n    if (element.parentNode) {\n      element.parentNode.removeChild(element)\n    }\n\n    EventHandler.trigger(element, ALERT_EVENT_CLOSED)\n  }\n\n  // Static\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      let data = Data.getData(this, ALERT_DATA_KEY)\n\n      if (!data) {\n        data = new Alert(this)\n      }\n\n      if (config === 'close') {\n        data[config](this)\n      }\n    })\n  }\n\n  static handleDismiss(alertInstance) {\n    return function (event) {\n      if (event) {\n        event.preventDefault()\n      }\n\n      alertInstance.close(this)\n    }\n  }\n\n  static getInstance(element) {\n    return Data.getData(element, ALERT_DATA_KEY)\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\nEventHandler\n  .on(\n    document,\n    ALERT_EVENT_CLICK_DATA_API,\n    ALERT_SELECTOR_DISMISS,\n    Alert.handleDismiss( new Alert() )\n  )\n\n\n/**\n * ------------------------------------------------------------------------\n * Exports\n * ------------------------------------------------------------------------\n */\n\nexport default Alert\n","/**\n * --------------------------------------------------------------------------\n * ChiChi (v0.1.0-alpha2): button.ts\n * Licensed under MIT\n * --------------------------------------------------------------------------\n */\n\nimport Data from './dom/data'\nimport EventHandler from './dom/event-handler'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst BUTTON_NAME = 'button'\nconst BUTTON_VERSION = '0.1.0-alpha1'\nconst BUTTON_DATA_KEY = 'chichi.button'\nconst BUTTON_EVENT_KEY = `.${BUTTON_DATA_KEY}`\nconst BUTTON_DATA_API_KEY = '.data-api'\nconst BUTTON_CLASS_NAME_ACTIVE = 'is-active'\nconst BUTTON_SELECTOR_DATA_TOGGLE = '[data-toggle=\"button\"]'\nconst BUTTON_EVENT_CLICK_DATA_API = `click${BUTTON_EVENT_KEY}${BUTTON_DATA_API_KEY}`\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Button {\n  constructor(element) {\n    this._element = element\n    Data.setData(element, BUTTON_DATA_KEY, this)\n  }\n\n  // Getters\n\n  static get VERSION() {\n    return BUTTON_VERSION\n  }\n\n  // Public\n\n  toggle() {\n    // Toggle class and sync the `aria-pressed` attribute with the return value of the `.toggle()` method\n    this._element.setAttribute('aria-pressed', this._element.classList.toggle(BUTTON_CLASS_NAME_ACTIVE))\n  }\n\n  dispose() {\n    Data.removeData(this._element, BUTTON_DATA_KEY)\n    this._element = null\n  }\n\n  // Static\n\n  static getInstance(element) {\n    return Data.getData(element, BUTTON_DATA_KEY)\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\nEventHandler.on(document, BUTTON_EVENT_CLICK_DATA_API, BUTTON_SELECTOR_DATA_TOGGLE, event => {\n  event.preventDefault()\n\n  const button = event.target.closest(BUTTON_SELECTOR_DATA_TOGGLE)\n\n  let data = Data.getData(button, BUTTON_DATA_KEY)\n  if (!data) {\n    data = new Button(button)\n  }\n\n  data.toggle()\n})\n\n/**\n * ------------------------------------------------------------------------\n * Exports\n * ------------------------------------------------------------------------\n */\n\nexport default Button\n","/**\n * --------------------------------------------------------------------------\n * ChiChi (v0.1.0-alpha2): dropdown.ts\n * Licensed under MIT\n * --------------------------------------------------------------------------\n */\n\n import { getElementFromSelector, isElement, isVisible, noop } from './util/index'\n import Data from './dom/data'\n import EventHandler from './dom/event-handler'\n import Manipulator from './dom/manipulator'\n import Popper from 'popper.js'\n import SelectorEngine from './dom/selector-engine'\n\n /**\n  * ------------------------------------------------------------------------\n  * Constants\n  * ------------------------------------------------------------------------\n  */\n\n const DROPDOWN_NAME = 'dropdown'\n const DROPDOWN_VERSION = '0.1.0-alpha1'\n const DROPDOWN_DATA_KEY = 'chichi.dropdown'\n const DROPDOWN_EVENT_KEY = `.${DROPDOWN_DATA_KEY}`\n const DROPDOWN_DATA_API_KEY = '.data-api'\n\n const DROPDOWN_ESCAPE_KEY = 'Escape'\n const DROPDOWN_SPACE_KEY = 'Space'\n const DROPDOWN_TAB_KEY = 'Tab'\n const DROPDOWN_ARROW_UP_KEY = 'ArrowUp'\n const DROPDOWN_ARROW_DOWN_KEY = 'ArrowDown'\n const DROPDOWN_RIGHT_MOUSE_BUTTON = 2 // MouseEvent.button value for the secondary button, usually the right button\n\n const DROPDOWN_REGEXP_KEYDOWN = new RegExp(`${DROPDOWN_ARROW_UP_KEY}|${DROPDOWN_ARROW_DOWN_KEY}|${DROPDOWN_ESCAPE_KEY}`)\n\n const DROPDOWN_EVENT_HIDE = `hide${DROPDOWN_EVENT_KEY}`\n const DROPDOWN_EVENT_HIDDEN = `hidden${DROPDOWN_EVENT_KEY}`\n const DROPDOWN_EVENT_SHOW = `show${DROPDOWN_EVENT_KEY}`\n const DROPDOWN_EVENT_SHOWN = `shown${DROPDOWN_EVENT_KEY}`\n const DROPDOWN_EVENT_CLICK = `click${DROPDOWN_EVENT_KEY}`\n const DROPDOWN_EVENT_CLICK_DATA_API = `click${DROPDOWN_EVENT_KEY}${DATA_API_KEY}`\n const DROPDOWN_EVENT_KEYDOWN_DATA_API = `keydown${DROPDOWN_EVENT_KEY}${DATA_API_KEY}`\n const DROPDOWN_EVENT_KEYUP_DATA_API = `keyup${DROPDOWN_EVENT_KEY}${DATA_API_KEY}`\n\n const DROPDOWN_CLASS_NAME_DISABLED = 'disabled'\n const DROPDOWN_CLASS_NAME_ACTIVE = 'is-active'\n const DROPDOWN_CLASS_NAME_DROPUP = 'is-up'\n const DROPDOWN_CLASS_NAME_DROPRIGHT = 'is-right'\n const DROPDOWN_CLASS_NAME_DROPLEFT = 'is-left'\n const DROPDOWN_CLASS_NAME_MENURIGHT = 'dropdown-menu-right'\n const DROPDOWN_CLASS_NAME_NAVBAR = 'navbar'\n const DROPDOWN_CLASS_NAME_POSITION_STATIC = 'is-static'\n\n const DROPDOWN_SELECTOR_DATA_TOGGLE = '[data-toggle=\"dropdown\"]'\n const DROPDOWN_SELECTOR_FORM_CHILD = '.dropdown form'\n const DROPDOWN_SELECTOR_MENU = '.dropdown-menu'\n const DROPDOWN_SELECTOR_NAVBAR_NAV = '.navbar-item'\n const DROPDOWN_SELECTOR_VISIBLE_ITEMS = '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)'\n\n const DROPDOWN_PLACEMENT_TOP = 'top-start'\n const DROPDOWN_PLACEMENT_TOPEND = 'top-end'\n const DROPDOWN_PLACEMENT_BOTTOM = 'bottom-start'\n const DROPDOWN_PLACEMENT_BOTTOMEND = 'bottom-end'\n const DROPDOWN_PLACEMENT_RIGHT = 'right-start'\n const DROPDOWN_PLACEMENT_LEFT = 'left-start'\n\n const DropdownDefaults = {\n   offset: 0,\n   flip: true,\n   boundary: 'scrollParent',\n   reference: 'toggle',\n   display: 'dynamic',\n   popperConfig: null\n }\n\n/**\n* ------------------------------------------------------------------------\n* Class Definition\n* ------------------------------------------------------------------------\n*/\n\n class Dropdown {\n   constructor(element, config) {\n     this._element = element\n     this._popper = null\n     this._config = this._getConfig(config)\n     this._menu = this._getMenuElement()\n     this._inNavbar = this._detectNavbar()\n\n     this._addEventListeners()\n     Data.setData(element, DROPDOWN_DATA_KEY, this)\n   }\n\n   // Getters\n\n   static get VERSION() {\n     return DROPDOWN_VERSION\n   }\n\n   static get Default() {\n     return DropdownDefaults\n   }\n\n   // Public\n\n   toggle() {\n     if (this._element.disabled || this._element.classList.contains(DROPDOWN_CLASS_NAME_DISABLED)) {\n       return\n     }\n\n     const isActive = this._element.classList.contains(DROPDOWN_CLASS_NAME_ACTIVE)\n\n     Dropdown.clearMenus()\n\n     if (isActive) {\n       return\n     }\n\n     this.show()\n   }\n\n   show() {\n     if (this._element.disabled || this._element.classList.contains(DROPDOWN_CLASS_NAME_DISABLED) || this._menu.classList.contains(DROPDOWN_CLASS_NAME_ACTIVE)) {\n       return\n     }\n\n     const parent = Dropdown.getParentFromElement(this._element)\n     const relatedTarget = {\n       relatedTarget: this._element\n     }\n\n     const showEvent = EventHandler.trigger(this._element, DROPDOWN_DROPDOWN_EVENT_SHOW, relatedTarget)\n\n     if (showEvent.defaultPrevented) {\n       return\n     }\n\n     // Disable totally Popper.js for Dropdown in Navbar\n     if (!this._inNavbar) {\n       if (typeof Popper === 'undefined') {\n         throw new TypeError('Bootstrap\\'s dropdowns require Popper.js (https://popper.js.org)')\n       }\n\n       let referenceElement = this._element\n\n       if (this._config.reference === 'parent') {\n         referenceElement = parent\n       } else if (isElement(this._config.reference)) {\n         referenceElement = this._config.reference\n\n         // Check if it's jQuery element\n         if (typeof this._config.reference.jquery !== 'undefined') {\n           referenceElement = this._config.reference[0]\n         }\n       }\n\n       // If boundary is not `scrollParent`, then set position to `static`\n       // to allow the menu to \"escape\" the scroll parent's boundaries\n       // https://github.com/twbs/bootstrap/issues/24251\n       if (this._config.boundary !== 'scrollParent') {\n         parent.classList.add(DROPDOWN_CLASS_NAME_POSITION_STATIC)\n       }\n\n       this._popper = new Popper(referenceElement, this._menu, this._getPopperConfig())\n     }\n\n     // If this is a touch-enabled device we add extra\n     // empty mouseover listeners to the body's immediate children;\n     // only needed because of broken event delegation on iOS\n     // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n     if ('ontouchstart' in document.documentElement &&\n       !parent.closest(DROPDOWN_SELECTOR_NAVBAR_NAV)) {\n       [].concat(...document.body.children)\n         .forEach(elem => EventHandler.on(elem, 'mouseover', null, noop()))\n     }\n\n     this._element.focus()\n     this._element.setAttribute('aria-expanded', true)\n\n     Manipulator.toggleClass(this._menu, DROPDOWN_CLASS_NAME_ACTIVE)\n     Manipulator.toggleClass(this._element, DROPDOWN_CLASS_NAME_ACTIVE)\n     EventHandler.trigger(parent, DROPDOWN_EVENT_SHOWN, relatedTarget)\n   }\n\n   hide() {\n     if (this._element.disabled || this._element.classList.contains(DROPDOWN_CLASS_NAME_DISABLED) || !this._menu.classList.contains(DROPDOWN_CLASS_NAME_ACTIVE)) {\n       return\n     }\n\n     const parent = Dropdown.getParentFromElement(this._element)\n     const relatedTarget = {\n       relatedTarget: this._element\n     }\n\n     const hideEvent = EventHandler.trigger(parent, DROPDOWN_EVENT_HIDE, relatedTarget)\n\n     if (hideEvent.defaultPrevented) {\n       return\n     }\n\n     if (this._popper) {\n       this._popper.destroy()\n     }\n\n     Manipulator.toggleClass(this._menu, DROPDOWN_CLASS_NAME_ACTIVE)\n     Manipulator.toggleClass(this._element, DROPDOWN_CLASS_NAME_ACTIVE)\n     EventHandler.trigger(parent, DROPDOWN_EVENT_HIDDEN, relatedTarget)\n   }\n\n   dispose() {\n     Data.removeData(this._element, DROPDOWN_DATA_KEY)\n     EventHandler.off(this._element, DROPDOWN_EVENT_KEY)\n     this._element = null\n     this._menu = null\n     if (this._popper) {\n       this._popper.destroy()\n       this._popper = null\n     }\n   }\n\n   update() {\n     this._inNavbar = this._detectNavbar()\n     if (this._popper) {\n       this._popper.scheduleUpdate()\n     }\n   }\n\n   // Private\n\n   _addEventListeners() {\n     EventHandler.on(this._element, DROPDOWN_EVENT_CLICK, event => {\n       event.preventDefault()\n       event.stopPropagation()\n       this.toggle()\n     })\n   }\n\n   _getConfig(config) {\n     config = {\n       ...this.constructor.Default,\n       ...Manipulator.getDataAttributes(this._element),\n       ...config\n     }\n\n     return config\n   }\n\n   _getMenuElement() {\n     return SelectorEngine.next(this._element, DROPDOWN_SELECTOR_MENU)[0]\n   }\n\n   _getPlacement() {\n     const parentDropdown = this._element.parentNode\n     let placement = DROPDOWN_PLACEMENT_BOTTOM\n\n     // Handle dropup\n     if (parentDropdown.classList.contains(DROPDOWN_CLASS_NAME_DROPUP)) {\n       placement = DROPDOWN_PLACEMENT_TOP\n       if (this._menu.classList.contains(DROPDOWN_CLASS_NAME_MENURIGHT)) {\n         placement = DROPDOWN_PLACEMENT_TOPEND\n       }\n     } else if (parentDropdown.classList.contains(DROPDOWN_CLASS_NAME_DROPRIGHT)) {\n       placement = DROPDOWN_PLACEMENT_RIGHT\n     } else if (parentDropdown.classList.contains(DROPDOWN_CLASS_NAME_DROPLEFT)) {\n       placement = DROPDOWN_PLACEMENT_LEFT\n     } else if (this._menu.classList.contains(DROPDOWN_CLASS_NAME_MENURIGHT)) {\n       placement = DROPDOWN_PLACEMENT_BOTTOMEND\n     }\n\n     return placement\n   }\n\n   _detectNavbar() {\n     return Boolean(this._element.closest(`.${DROPDOWN_CLASS_NAME_NAVBAR}`))\n   }\n\n   _getOffset() {\n     const offset = {}\n\n     if (typeof this._config.offset === 'function') {\n       offset.fn = data => {\n         data.offsets = {\n           ...data.offsets,\n           ...this._config.offset(data.offsets, this._element) || {}\n         }\n\n         return data\n       }\n     } else {\n       offset.offset = this._config.offset\n     }\n\n     return offset\n   }\n\n   _getPopperConfig() {\n     const popperConfig = {\n       placement: this._getPlacement(),\n       modifiers: {\n         offset: this._getOffset(),\n         flip: {\n           enabled: this._config.flip\n         },\n         preventOverflow: {\n           boundariesElement: this._config.boundary\n         }\n       }\n     }\n\n     // Disable Popper.js if we have a static display\n     if (this._config.display === 'static') {\n       popperConfig.modifiers.applyStyle = {\n         enabled: false\n       }\n     }\n\n     return {\n       ...popperConfig,\n       ...this._config.popperConfig\n     }\n   }\n\n   // Static\n\n   static dropdownInterface(element, config) {\n     let data = Data.getData(element, DROPDOWN_DATA_KEY)\n     const _config = typeof config === 'object' ? config : null\n\n     if (!data) {\n       data = new Dropdown(element, _config)\n     }\n\n     if (typeof config === 'string') {\n       if (typeof data[config] === 'undefined') {\n         throw new TypeError(`No method named \"${config}\"`)\n       }\n\n       data[config]()\n     }\n   }\n\n   static clearMenus(event) {\n     if (event && (event.button === DROPDOWN_RIGHT_MOUSE_BUTTON ||\n       (event.type === 'keyup' && event.key !== DROPDOWN_TAB_KEY))) {\n       return\n     }\n\n     const toggles = SelectorEngine.find(DROPDOWN_SELECTOR_DATA_TOGGLE)\n\n     for (let i = 0, len = toggles.length; i < len; i++) {\n       const parent = Dropdown.getParentFromElement(toggles[i])\n       const context = Data.getData(toggles[i], DROPDOWN_DATA_KEY)\n       const relatedTarget = {\n         relatedTarget: toggles[i]\n       }\n\n       if (event && event.type === 'click') {\n         relatedTarget.clickEvent = event\n       }\n\n       if (!context) {\n         continue\n       }\n\n       const dropdownMenu = context._menu\n       if (!toggles[i].classList.contains(DROPDOWN_CLASS_NAME_ACTIVE)) {\n         continue\n       }\n\n       if (event && ((event.type === 'click' &&\n           /input|textarea/i.test(event.target.tagName)) ||\n           (event.type === 'keyup' && event.key === DROPDOWN_TAB_KEY)) &&\n           dropdownMenu.contains(event.target)) {\n         continue\n       }\n\n       const hideEvent = EventHandler.trigger(parent, DROPDOWN_EVENT_HIDE, relatedTarget)\n       if (hideEvent.defaultPrevented) {\n         continue\n       }\n\n       // If this is a touch-enabled device we remove the extra\n       // empty mouseover listeners we added for iOS support\n       if ('ontouchstart' in document.documentElement) {\n         [].concat(...document.body.children)\n           .forEach(elem => EventHandler.off(elem, 'mouseover', null, noop()))\n       }\n\n       toggles[i].setAttribute('aria-expanded', 'false')\n\n       if (context._popper) {\n         context._popper.destroy()\n       }\n\n       dropdownMenu.classList.remove(DROPDOWN_CLASS_NAME_ACTIVE)\n       toggles[i].classList.remove(DROPDOWN_CLASS_NAME_ACTIVE)\n       EventHandler.trigger(parent, DROPDOWN_EVENT_HIDDEN, relatedTarget)\n     }\n   }\n\n   static getParentFromElement(element) {\n     return getElementFromSelector(element) || element.parentNode\n   }\n\n   static dataApiKeydownHandler(event) {\n     // If not input/textarea:\n     //  - And not a key in REGEXP_KEYDOWN => not a dropdown command\n     // If input/textarea:\n     //  - If space key => not a dropdown command\n     //  - If key is other than escape\n     //    - If key is not up or down => not a dropdown command\n     //    - If trigger inside the menu => not a dropdown command\n     if (/input|textarea/i.test(event.target.tagName) ?\n       event.key === DROPDOWN_SPACE_KEY || (event.key !== DROPDOWN_ESCAPE_KEY &&\n       ((event.key !== DROPDOWN_ARROW_DOWN_KEY && event.key !== DROPDOWN_ARROW_UP_KEY) ||\n         event.target.closest(DROPDOWN_SELECTOR_MENU))) :\n       !DROPDOWN_REGEXP_KEYDOWN.test(event.key)) {\n       return\n     }\n\n     event.preventDefault()\n     event.stopPropagation()\n\n     if (this.disabled || this.classList.contains(DROPDOWN_CLASS_NAME_DISABLED)) {\n       return\n     }\n\n     const parent = Dropdown.getParentFromElement(this)\n     const isActive = this.classList.contains(DROPDOWN_CLASS_NAME_ACTIVE)\n\n     if (event.key === DROPDOWN_ESCAPE_KEY) {\n       const button = this.matches(SDROPDOWN_ELECTOR_DATA_TOGGLE) ? this : SelectorEngine.prev(this, DROPDOWN_SELECTOR_DATA_TOGGLE)[0]\n       button.focus()\n       Dropdown.clearMenus()\n       return\n     }\n\n     if (!isActive || event.key === DROPDOWN_SPACE_KEY) {\n       Dropdown.clearMenus()\n       return\n     }\n\n     const items = SelectorEngine.find(DROPDOWN_SELECTOR_VISIBLE_ITEMS, parent)\n       .filter(isVisible)\n\n     if (!items.length) {\n       return\n     }\n\n     let index = items.indexOf(event.target)\n\n     if (event.key === DROPDOWN_ARROW_UP_KEY && index > 0) { // Up\n       index--\n     }\n\n     if (event.key === DROPDOWN_ARROW_DOWN_KEY && index < items.length - 1) { // Down\n       index++\n     }\n\n     // index is -1 if the first keydown is an ArrowUp\n     index = index === -1 ? 0 : index\n\n     items[index].focus()\n   }\n\n   static getInstance(element) {\n     return Data.getData(element, DROPDOWN_DATA_KEY)\n   }\n }\n\n/**\n* ------------------------------------------------------------------------\n* Data Api implementation\n* ------------------------------------------------------------------------\n*/\n\n EventHandler.on(document, DROPDOWN_EVENT_KEYDOWN_DATA_API, DROPDOWN_SELECTOR_DATA_TOGGLE, Dropdown.dataApiKeydownHandler)\n EventHandler.on(document, DROPDOWN_EVENT_KEYDOWN_DATA_API, DROPDOWN_SELECTOR_MENU, Dropdown.dataApiKeydownHandler)\n EventHandler.on(document, DROPDOWN_EVENT_CLICK_DATA_API, Dropdown.clearMenus)\n EventHandler.on(document, DROPDOWN_EVENT_KEYUP_DATA_API, Dropdown.clearMenus)\n EventHandler.on(document, DROPDOWN_EVENT_CLICK_DATA_API, DROPDOWN_SELECTOR_DATA_TOGGLE, function (event) {\n   event.preventDefault()\n   event.stopPropagation()\n   Dropdown.dropdownInterface(this, 'toggle')\n })\n EventHandler\n   .on(document, DROPDOWN_EVENT_CLICK_DATA_API, DROPDOWN_SELECTOR_FORM_CHILD, e => e.stopPropagation())\n\n/**\n* ------------------------------------------------------------------------\n* Exports\n* ------------------------------------------------------------------------\n*/\n\n export default Dropdown\n","/**\n * --------------------------------------------------------------------------\n * ChiChi (v0.1.0-alpha2): modal.ts\n * Licensed under MIT\n * --------------------------------------------------------------------------\n */\n","/**\n * --------------------------------------------------------------------------\n * ChiChi (v0.1.0-alpha2): popover.ts\n * Licensed under MIT\n * --------------------------------------------------------------------------\n */\n","/**\n * --------------------------------------------------------------------------\n * ChiChi (v0.1.0-alpha2): slider.ts\n * Licensed under MIT\n * --------------------------------------------------------------------------\n */\n\nimport { TRANSITION_END, emulateTransitionEnd, getElementFromSelector, getTransitionDurationFromElement, isVisible, reflow, triggerTransitionEnd } from './util/index'\nimport Data from './dom/data'\nimport EventHandler from './dom/event-handler'\nimport Manipulator from './dom/manipulator'\nimport SelectorEngine from './dom/selector-engine'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst SLIDER_NAME = 'slider'\nconst SLIDER_VERSION = '0.1.0-alpha1'\nconst SLIDER_DATA_KEY = 'chichi.slider'\nconst SLIDER_EVENT_KEY = `.${SLIDER_DATA_KEY}`\nconst SLIDER_DATA_API_KEY = '.data-api'\n\nconst SLIDER_ARROW_LEFT_KEY = 'ArrowLeft'\nconst SLIDER_ARROW_RIGHT_KEY = 'ArrowRight'\nconst SLIDER_TOUCHEVENT_COMPAT_WAIT = 500 // Time for mouse compat events to fire after touch\nconst SLIDER_SWIPE_THRESHOLD = 40\n\nconst SliderDefaults = {\n  interval: 5000,\n  keyboard: true,\n  slide: false,\n  pause: 'hover',\n  wrap: true,\n  touch: true\n}\n\nconst SLIDER_DIRECTION_NEXT = 'next'\nconst SLIDER_DIRECTION_PREV = 'prev'\nconst SLIDER_DIRECTION_LEFT = 'left'\nconst SLIDER_DIRECTION_RIGHT = 'right'\n\nconst SLIDER_EVENT_SLIDE = `slide${SLIDER_EVENT_KEY}`\nconst SLIDER_EVENT_SLID = `slid${SLIDER_EVENT_KEY}`\nconst SLIDER_EVENT_KEYDOWN = `keydown${SLIDER_EVENT_KEY}`\nconst SLIDER_EVENT_MOUSEENTER = `mouseenter${SLIDER_EVENT_KEY}`\nconst SLIDER_EVENT_MOUSELEAVE = `mouseleave${SLIDER_EVENT_KEY}`\nconst SLIDER_EVENT_TOUCHSTART = `touchstart${SLIDER_EVENT_KEY}`\nconst SLIDER_EVENT_TOUCHMOVE = `touchmove${SLIDER_EVENT_KEY}`\nconst SLIDER_EVENT_TOUCHEND = `touchend${SLIDER_EVENT_KEY}`\nconst SLIDER_EVENT_POINTERDOWN = `pointerdown${SLIDER_EVENT_KEY}`\nconst SLIDER_EVENT_POINTERUP = `pointerup${SLIDER_EVENT_KEY}`\nconst SLIDER_EVENT_DRAG_START = `dragstart${SLIDER_EVENT_KEY}`\nconst SLIDER_EVENT_LOAD_DATA_API = `load${SLIDER_EVENT_KEY}${SLIDER_DATA_API_KEY}`\nconst SLIDER_EVENT_CLICK_DATA_API = `click${SLIDER_EVENT_KEY}${SLIDER_DATA_API_KEY}`\n\nconst SLIDER_CLASS_NAME_SLIDER = 'slider'\nconst SLIDER_CLASS_NAME_ACTIVE = 'is-active'\nconst SLIDER_CLASS_NAME_SLIDE = 'slide'\nconst SLIDER_CLASS_NAME_RIGHT = 'carousel-item-right'\nconst SLIDER_CLASS_NAME_LEFT = 'carousel-item-left'\nconst SLIDER_CLASS_NAME_NEXT = 'carousel-item-next'\nconst SLIDER_CLASS_NAME_PREV = 'carousel-item-prev'\nconst SLIDER_CLASS_NAME_POINTER_EVENT = 'pointer-event'\n\nconst SLIDER_SELECTOR_ACTIVE = '.is-active'\nconst SLIDER_SELECTOR_ACTIVE_ITEM = '.is-active.slider-item'\nconst SLIDER_SELECTOR_ITEM = '.slider-item'\nconst SLIDER_SELECTOR_ITEM_IMG = '.slider-item img'\nconst SLIDER_SELECTOR_NEXT_PREV = '.slider-item-next, .slider-item-prev'\nconst SLIDER_SELECTOR_INDICATORS = '.slider-indicators'\nconst SLIDER_SELECTOR_DATA_SLIDE = '[data-slide], [data-slide-to]'\nconst SLIDER_SELECTOR_DATA_RIDE = '[data-ride=\"slider\"]'\n\nconst PointerType = {\n  TOUCH: 'touch',\n  PEN: 'pen'\n}\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Slider {\n  constructor(element, config) {\n    this._items = null\n    this._interval = null\n    this._activeElement = null\n    this._isPaused = false\n    this._isSliding = false\n    this.touchTimeout = null\n    this.touchStartX = 0\n    this.touchDeltaX = 0\n\n    this._config = this._getConfig(config)\n    this._element = element\n    this._indicatorsElement = SelectorEngine.findOne(SLIDER_SELECTOR_INDICATORS, this._element)\n    this._touchSupported = 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0\n    this._pointerEvent = Boolean(window.PointerEvent)\n\n    this._addEventListeners()\n    Data.setData(element, SLIDER_DATA_KEY, this)\n  }\n\n  // Getters\n\n  static get VERSION() {\n    return SLIDER_VERSION\n  }\n\n  static get Default() {\n    return SliderDefaults\n  }\n\n  // Public\n\n  next() {\n    if (!this._isSliding) {\n      this._slide(SLIDER_DIRECTION_NEXT)\n    }\n  }\n\n  nextWhenVisible() {\n    // Don't call next when the page isn't visible\n    // or the carousel or its parent isn't visible\n    if (!document.hidden && isVisible(this._element)) {\n      this.next()\n    }\n  }\n\n  prev() {\n    if (!this._isSliding) {\n      this._slide(SLIDER_DIRECTION_PREV)\n    }\n  }\n\n  pause(event) {\n    if (!event) {\n      this._isPaused = true\n    }\n\n    if (SelectorEngine.findOne(SLIDER_SELECTOR_NEXT_PREV, this._element)) {\n      triggerTransitionEnd(this._element)\n      this.cycle(true)\n    }\n\n    clearInterval(this._interval)\n    this._interval = null\n  }\n\n  cycle(event) {\n    if (!event) {\n      this._isPaused = false\n    }\n\n    if (this._interval) {\n      clearInterval(this._interval)\n      this._interval = null\n    }\n\n    if (this._config && this._config.interval && !this._isPaused) {\n      this._interval = setInterval(\n        (document.visibilityState ? this.nextWhenVisible : this.next).bind(this),\n        this._config.interval\n      )\n    }\n  }\n\n  to(index) {\n    this._activeElement = SelectorEngine.findOne(SLIDER_SELECTOR_ACTIVE_ITEM, this._element)\n    const activeIndex = this._getItemIndex(this._activeElement)\n\n    if (index > this._items.length - 1 || index < 0) {\n      return\n    }\n\n    if (this._isSliding) {\n      EventHandler.one(this._element, SLIDER_EVENT_SLID, () => this.to(index))\n      return\n    }\n\n    if (activeIndex === index) {\n      this.pause()\n      this.cycle()\n      return\n    }\n\n    const direction = index > activeIndex ?\n      SLIDER_DIRECTION_NEXT :\n      SLIDER_DIRECTION_PREV\n\n    this._slide(direction, this._items[index])\n  }\n\n  dispose() {\n    EventHandler.off(this._element, SLIDER_EVENT_KEY)\n    Data.removeData(this._element, SLIDER_DATA_KEY)\n\n    this._items = null\n    this._config = null\n    this._element = null\n    this._interval = null\n    this._isPaused = null\n    this._isSliding = null\n    this._activeElement = null\n    this._indicatorsElement = null\n  }\n\n  // Private\n\n  _getConfig(config) {\n    config = {\n      ...Default,\n      ...config\n    }\n    typeCheckConfig(NAME, config, DefaultType)\n    return config\n  }\n\n  _handleSwipe() {\n    const absDeltax = Math.abs(this.touchDeltaX)\n\n    if (absDeltax <= SWIPE_THRESHOLD) {\n      return\n    }\n\n    const direction = absDeltax / this.touchDeltaX\n\n    this.touchDeltaX = 0\n\n    // swipe left\n    if (direction > 0) {\n      this.prev()\n    }\n\n    // swipe right\n    if (direction < 0) {\n      this.next()\n    }\n  }\n\n  _addEventListeners() {\n    if (this._config.keyboard) {\n      EventHandler\n        .on(this._element, SLIDER_EVENT_KEYDOWN, event => this._keydown(event))\n    }\n\n    if (this._config.pause === 'hover') {\n      EventHandler\n        .on(this._element, SLIDER_EVENT_MOUSEENTER, event => this.pause(event))\n      EventHandler\n        .on(this._element, SLIDER_EVENT_MOUSELEAVE, event => this.cycle(event))\n    }\n\n    if (this._config.touch && this._touchSupported) {\n      this._addTouchEventListeners()\n    }\n  }\n\n  _addTouchEventListeners() {\n    const start = event => {\n      if (this._pointerEvent && PointerType[event.pointerType.toUpperCase()]) {\n        this.touchStartX = event.clientX\n      } else if (!this._pointerEvent) {\n        this.touchStartX = event.touches[0].clientX\n      }\n    }\n\n    const move = event => {\n      // ensure swiping with one touch and not pinching\n      if (event.touches && event.touches.length > 1) {\n        this.touchDeltaX = 0\n      } else {\n        this.touchDeltaX = event.touches[0].clientX - this.touchStartX\n      }\n    }\n\n    const end = event => {\n      if (this._pointerEvent && PointerType[event.pointerType.toUpperCase()]) {\n        this.touchDeltaX = event.clientX - this.touchStartX\n      }\n\n      this._handleSwipe()\n      if (this._config.pause === 'hover') {\n        // If it's a touch-enabled device, mouseenter/leave are fired as\n        // part of the mouse compatibility events on first tap - the carousel\n        // would stop cycling until user tapped out of it;\n        // here, we listen for touchend, explicitly pause the carousel\n        // (as if it's the second time we tap on it, mouseenter compat event\n        // is NOT fired) and after a timeout (to allow for mouse compatibility\n        // events to fire) we explicitly restart cycling\n\n        this.pause()\n        if (this.touchTimeout) {\n          clearTimeout(this.touchTimeout)\n        }\n\n        this.touchTimeout = setTimeout(event => this.cycle(event), TOUCHEVENT_COMPAT_WAIT + this._config.interval)\n      }\n    }\n\n    SelectorEngine.find(SLIDER_SELECTOR_ITEM_IMG, this._element).forEach(itemImg => {\n      EventHandler.on(itemImg, SLIDER_EVENT_DRAG_START, e => e.preventDefault())\n    })\n\n    if (this._pointerEvent) {\n      EventHandler.on(this._element, SLIDER_EVENT_POINTERDOWN, event => start(event))\n      EventHandler.on(this._element, SLIDER_EVENT_POINTERUP, event => end(event))\n\n      this._element.classList.add(SLIDER_CLASS_NAME_POINTER_EVENT)\n    } else {\n      EventHandler.on(this._element, SLIDER_EVENT_TOUCHSTART, event => start(event))\n      EventHandler.on(this._element, SLIDER_EVENT_TOUCHMOVE, event => move(event))\n      EventHandler.on(this._element, SLIDER_EVENT_TOUCHEND, event => end(event))\n    }\n  }\n\n  _keydown(event) {\n    if (/input|textarea/i.test(event.target.tagName)) {\n      return\n    }\n\n    switch (event.key) {\n      case ARROW_LEFT_KEY:\n        event.preventDefault()\n        this.prev()\n        break\n      case ARROW_RIGHT_KEY:\n        event.preventDefault()\n        this.next()\n        break\n      default:\n    }\n  }\n\n  _getItemIndex(element) {\n    this._items = element && element.parentNode ?\n      SelectorEngine.find(SLIDER_SELECTOR_ITEM, element.parentNode) :\n      []\n\n    return this._items.indexOf(element)\n  }\n\n  _getItemByDirection(direction, activeElement) {\n    const isNextDirection = direction === SLIDER_DIRECTION_NEXT\n    const isPrevDirection = direction === SLIDER_DIRECTION_PREV\n    const activeIndex = this._getItemIndex(activeElement)\n    const lastItemIndex = this._items.length - 1\n    const isGoingToWrap = (isPrevDirection && activeIndex === 0) ||\n                            (isNextDirection && activeIndex === lastItemIndex)\n\n    if (isGoingToWrap && !this._config.wrap) {\n      return activeElement\n    }\n\n    const delta = direction === SLIDER_DIRECTION_PREV ? -1 : 1\n    const itemIndex = (activeIndex + delta) % this._items.length\n\n    return itemIndex === -1 ?\n      this._items[this._items.length - 1] :\n      this._items[itemIndex]\n  }\n\n  _triggerSlideEvent(relatedTarget, eventDirectionName) {\n    const targetIndex = this._getItemIndex(relatedTarget)\n    const fromIndex = this._getItemIndex(SelectorEngine.findOne(SLIDER_SELECTOR_ACTIVE_ITEM, this._element))\n\n    return EventHandler.trigger(this._element, SLIDER_SLIDER_EVENT_SLIDE, {\n      relatedTarget,\n      direction: eventDirectionName,\n      from: fromIndex,\n      to: targetIndex\n    })\n  }\n\n  _setActiveIndicatorElement(element) {\n    if (this._indicatorsElement) {\n      const indicators = SelectorEngine.find(SLIDER_SELECTOR_ACTIVE, this._indicatorsElement)\n      for (let i = 0; i < indicators.length; i++) {\n        indicators[i].classList.remove(SLIDER_CLASS_NAME_ACTIVE)\n      }\n\n      const nextIndicator = this._indicatorsElement.children[\n        this._getItemIndex(element)\n      ]\n\n      if (nextIndicator) {\n        nextIndicator.classList.add(SLIDER_CLASS_NAME_ACTIVE)\n      }\n    }\n  }\n\n  _slide(direction, element) {\n    const activeElement = SelectorEngine.findOne(SLIDER_SELECTOR_ACTIVE_ITEM, this._element)\n    const activeElementIndex = this._getItemIndex(activeElement)\n    const nextElement = element || (activeElement &&\n      this._getItemByDirection(direction, activeElement))\n\n    const nextElementIndex = this._getItemIndex(nextElement)\n    const isCycling = Boolean(this._interval)\n\n    let directionalClassName\n    let orderClassName\n    let eventDirectionName\n\n    if (direction === SLIDER_DIRECTION_NEXT) {\n      directionalClassName = SLIDER_CLASS_NAME_LEFT\n      orderClassName = SLIDER_CLASS_NAME_NEXT\n      eventDirectionName = SLIDER_DIRECTION_LEFT\n    } else {\n      directionalClassName = SLIDER_CLASS_NAME_RIGHT\n      orderClassName = SLIDER_CLASS_NAME_PREV\n      eventDirectionName = SLIDER_DIRECTION_RIGHT\n    }\n\n    if (nextElement && nextElement.classList.contains(SLIDER_CLASS_NAME_ACTIVE)) {\n      this._isSliding = false\n      return\n    }\n\n    const slideEvent = this._triggerSlideEvent(nextElement, eventDirectionName)\n    if (slideEvent.defaultPrevented) {\n      return\n    }\n\n    if (!activeElement || !nextElement) {\n      // Some weirdness is happening, so we bail\n      return\n    }\n\n    this._isSliding = true\n\n    if (isCycling) {\n      this.pause()\n    }\n\n    this._setActiveIndicatorElement(nextElement)\n\n    if (this._element.classList.contains(SLIDER_CLASS_NAME_SLIDE)) {\n      nextElement.classList.add(orderClassName)\n\n      reflow(nextElement)\n\n      activeElement.classList.add(directionalClassName)\n      nextElement.classList.add(directionalClassName)\n\n      const nextElementInterval = parseInt(nextElement.getAttribute('data-interval'), 10)\n      if (nextElementInterval) {\n        this._config.defaultInterval = this._config.defaultInterval || this._config.interval\n        this._config.interval = nextElementInterval\n      } else {\n        this._config.interval = this._config.defaultInterval || this._config.interval\n      }\n\n      const transitionDuration = getTransitionDurationFromElement(activeElement)\n\n      EventHandler\n        .one(activeElement, TRANSITION_END, () => {\n          nextElement.classList.remove(directionalClassName, orderClassName)\n          nextElement.classList.add(SLIDER_CLASS_NAME_ACTIVE)\n\n          activeElement.classList.remove(SLIDER_CLASS_NAME_ACTIVE, orderClassName, directionalClassName)\n\n          this._isSliding = false\n\n          setTimeout(() => {\n            EventHandler.trigger(this._element, SLIDER_EVENT_SLID, {\n              relatedTarget: nextElement,\n              direction: eventDirectionName,\n              from: activeElementIndex,\n              to: nextElementIndex\n            })\n          }, 0)\n        })\n\n      emulateTransitionEnd(activeElement, transitionDuration)\n    } else {\n      activeElement.classList.remove(SLIDER_CLASS_NAME_ACTIVE)\n      nextElement.classList.add(SLIDER_CLASS_NAME_ACTIVE)\n\n      this._isSliding = false\n      EventHandler.trigger(this._element, SLIDER_EVENT_SLID, {\n        relatedTarget: nextElement,\n        direction: eventDirectionName,\n        from: activeElementIndex,\n        to: nextElementIndex\n      })\n    }\n\n    if (isCycling) {\n      this.cycle()\n    }\n  }\n\n  // Static\n\n  static sliderInterface(element, config) {\n    let data = Data.getData(element, SLIDER_DATA_KEY)\n    let _config = {\n      ...Default,\n      ...Manipulator.getDataAttributes(element)\n    }\n\n    if (typeof config === 'object') {\n      _config = {\n        ..._config,\n        ...config\n      }\n    }\n\n    const action = typeof config === 'string' ? config : _config.slide\n\n    if (!data) {\n      data = new Slider(element, _config)\n    }\n\n    if (typeof config === 'number') {\n      data.to(config)\n    } else if (typeof action === 'string') {\n      if (typeof data[action] === 'undefined') {\n        throw new TypeError(`No method named \"${action}\"`)\n      }\n\n      data[action]()\n    } else if (_config.interval && _config.ride) {\n      data.pause()\n      data.cycle()\n    }\n  }\n\n  static dataApiClickHandler(event) {\n    const target = getElementFromSelector(this)\n\n    if (!target || !target.classList.contains(SLIDER_CLASS_NAME_SLIDER)) {\n      return\n    }\n\n    const config = {\n      ...Manipulator.getDataAttributes(target),\n      ...Manipulator.getDataAttributes(this)\n    }\n    const slideIndex = this.getAttribute('data-slide-to')\n\n    if (slideIndex) {\n      config.interval = false\n    }\n\n    Slider.sliderInterface(target, config)\n\n    if (slideIndex) {\n      Data.getData(target, SLIDER_DATA_KEY).to(slideIndex)\n    }\n\n    event.preventDefault()\n  }\n\n  static getInstance(element) {\n    return Data.getData(element, SLIDER_DATA_KEY)\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * Data Api implementation\n * ------------------------------------------------------------------------\n */\n\nEventHandler\n  .on(document, SLIDER_EVENT_CLICK_DATA_API, SLIDER_SELECTOR_DATA_SLIDE, Slider.dataApiClickHandler)\n\nEventHandler.on(window, SLIDER_EVENT_LOAD_DATA_API, () => {\n  const sliders = SelectorEngine.find(SLIDER_SELECTOR_DATA_RIDE)\n\n  for (let i = 0, len = sliders.length; i < len; i++) {\n    Slider.sliderInterface(sliders[i], Data.getData(sliders[i], SLIDER_DATA_KEY))\n  }\n})\n\n/**\n * ------------------------------------------------------------------------\n * Exports\n * ------------------------------------------------------------------------\n */\n\nexport default Slider\n","/**\n * --------------------------------------------------------------------------\n * ChiChi (v0.1.0-alpha2): tab.ts\n * Licensed under MIT\n * --------------------------------------------------------------------------\n */\n","/**\n * --------------------------------------------------------------------------\n * ChiChi (v0.1.0-alpha2): toast.ts\n * Licensed under MIT\n * --------------------------------------------------------------------------\n */\n","/**\n * --------------------------------------------------------------------------\n * ChiChi (v0.1.0-alpha2): tooltip.ts\n * Licensed under MIT\n * --------------------------------------------------------------------------\n */\n"]}